<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>tofu.imas2tofu._def &#8212; Tofu 1.4.15</title>
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../../_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="../../../_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="../../../_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="../../../_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../index.html">
          tofu</a>
        <span class="navbar-text navbar-version pull-left"><b>1.4.15</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../../installation.html">Installation</a></li>
                <li><a href="../../../contributing.html">Contributing</a></li>
                <li><a href="../../../auto_examples/index.html">Gallery</a></li>
                <li><a href="../../../aboutus.html">About</a></li>
                <li><a href="../../../releases.html">Releases</a></li>
                <li><a href="../../../tofu.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">How to install tofu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing.html">A guide to contributing to tofu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../auto_examples/tutorials/tuto_plot_gallery_fusion_machines.html">A list of all different device configurations available (ITER, WEST, JET, ...)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../auto_examples/index.html">Tutorials and examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tofu_from_bash.html">Using tofu from a bash terminal</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tofu.html">tofu package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tofu.geom.html">tofu.geom package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tofu.dumpro.html">tofu.dumpro package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tofu.data.html">tofu.data package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tofu.dust.html">tofu.dust package</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"></ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <h1>Source code for tofu.imas2tofu._def</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">That&#39;s where the default shortcuts for imas2tofu are defined</span>
<span class="sd">Shortcuts allow you (via the class MulTiIDSLoader) to define short str</span>
<span class="sd">    for some important data contained in IMAS ids</span>
<span class="sd">The are stored as a large dict, with:</span>
<span class="sd">    {ids: {</span>
<span class="sd">        shortcut1: long_version1,</span>
<span class="sd">        ...</span>
<span class="sd">        shortcutN: long_version1}</span>
<span class="sd">        }</span>

<span class="sd">There is a default copy of this file in the tfu install, but each user can</span>
<span class="sd">(re)define his/her own shortcuts using a local copy that will take precedence</span>
<span class="sd">at import time.</span>

<span class="sd">To customize your tofu install with user-specific parameters, run in terminal:</span>

<span class="sd">    tofu-custom</span>

<span class="sd">This will create a .tofu/ in your home (~) with a local copy that you can edit</span>
<span class="sd">To see the shortcuts available from your running ipython console do:</span>

<span class="sd">    &gt; import tof as tf</span>
<span class="sd">    &gt; tf.imas2tofu.MultiIDSLoader.get_shortcuts()</span>

<span class="sd">Available since tofu 1.4.3</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="c1"># ############################################################################</span>
<span class="c1">#</span>
<span class="c1">#           General imas2tofu parameters</span>
<span class="c1">#</span>
<span class="c1"># ############################################################################</span>


<span class="c1"># public imas user (used for checking if can be saved)</span>
<span class="n">_IMAS_USER_PUBLIC</span> <span class="o">=</span> <span class="s1">&#39;imas_public&#39;</span>

<span class="c1"># generic imas parameters dict</span>
<span class="n">_IMAS_DIDD</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;shot&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;run&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s1">&#39;refshot&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;refrun&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
    <span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="n">_IMAS_USER_PUBLIC</span><span class="p">,</span>
    <span class="s1">&#39;database&#39;</span><span class="p">:</span> <span class="s1">&#39;west&#39;</span><span class="p">,</span>
    <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">_T0</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># ############################################################################</span>
<span class="c1">#</span>
<span class="c1">#           shortcuts for imas2tofu interface (MultiIDSLoader class)</span>
<span class="c1">#</span>
<span class="c1"># ############################################################################</span>

<span class="n">_dshort</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;wall&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;wallR&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;description_2d[0].limiter.unit[0].outline.r&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;wallZ&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;description_2d[0].limiter.unit[0].outline.z&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;pulse_schedule&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;events_times&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;event[].time_stamp&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;events_names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;event[].identifier&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;equilibrium&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;ip&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].global_quantities.ip&#39;</span><span class="p">,</span>
               <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;current&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Ip&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">},</span>
        <span class="s1">&#39;q0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].global_quantities.q_axis&#39;</span><span class="p">,</span>
               <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;qmin&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].global_quantities.q_min.value&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;q95&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].global_quantities.q_95&#39;</span><span class="p">,</span>
                <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;volume&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].global_quantities.volume&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;volume&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;pvol&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m^3&#39;</span><span class="p">},</span>
        <span class="s1">&#39;psiaxis&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].global_quantities.psi_axis&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B flux&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;psi&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Wb&#39;</span><span class="p">},</span>
        <span class="s1">&#39;psisep&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].global_quantities.psi_boundary&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B flux&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;psi&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Wb&#39;</span><span class="p">},</span>
        <span class="s1">&#39;BT0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;time_slice[time].global_quantities&#39;</span>
                        <span class="o">+</span> <span class="s1">&#39;.magnetic_axis.b_field_tor&#39;</span><span class="p">),</span>
                <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;BT&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;T&#39;</span><span class="p">},</span>
        <span class="s1">&#39;axR&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].global_quantities.magnetic_axis.r&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;axZ&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].global_quantities.magnetic_axis.z&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;x0R&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].boundary.x_point[0].r&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;x0Z&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].boundary.x_point[0].z&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;x1R&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].boundary.x_point[1].r&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;x1Z&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].boundary.x_point[1].z&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;strike0R&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].boundary.strike_point[0].r&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;strike0Z&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].boundary.strike_point[0].z&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;strike1R&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].boundary.strike_point[1].r&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;strike1Z&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].boundary.strike_point[1].z&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;sepR&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].boundary_separatrix.outline.r&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;sepZ&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].boundary_separatrix.outline.z&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>

        <span class="s1">&#39;1drhotn&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].profiles_1d.rho_tor_norm&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;rhotn&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dphi&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].profiles_1d.phi&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B flux&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;phi&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Wb&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dpsi&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].profiles_1d.psi&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B flux&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;psi&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Wb&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dq&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].profiles_1d.q&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;safety factor&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;q&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dpe&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].profiles_1d.pressure&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;pressure&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;pe&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Pa&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1djT&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].profiles_1d.j_tor&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;vol. current dens.&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;jT&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;A.m^-2&#39;</span><span class="p">},</span>

        <span class="s1">&#39;2dphi&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].ggd[0].phi[0].values&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B flux&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;phi&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Wb&#39;</span><span class="p">},</span>
        <span class="s1">&#39;2dpsi&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].ggd[0].psi[0].values&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B flux&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;psi&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Wb&#39;</span><span class="p">},</span>
        <span class="s1">&#39;2djT&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].ggd[0].j_tor[0].values&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;vol. current dens.&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;jT&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;A.m^-2&#39;</span><span class="p">},</span>
        <span class="s1">&#39;2dBR&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].ggd[0].b_field_r[0].values&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;BR&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;T&#39;</span><span class="p">},</span>
        <span class="s1">&#39;2dBT&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].ggd[0].b_field_tor[0].values&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;BT&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;T&#39;</span><span class="p">},</span>
        <span class="s1">&#39;2dBZ&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[time].ggd[0].b_field_z[0].values&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;BZ&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;T&#39;</span><span class="p">},</span>
        <span class="s1">&#39;2dmeshNodes&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;grids_ggd[0].grid[0].space[0]&#39;</span>
                                <span class="o">+</span> <span class="s1">&#39;.objects_per_dimension[0]&#39;</span>
                                <span class="o">+</span> <span class="s1">&#39;.object[].geometry&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;mixed&#39;</span><span class="p">},</span>
        <span class="s1">&#39;2dmeshFaces&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;grids_ggd[0].grid[0].space[0]&#39;</span>
                                <span class="o">+</span> <span class="s1">&#39;.objects_per_dimension[2]&#39;</span>
                                <span class="o">+</span> <span class="s1">&#39;.object[].nodes&#39;</span><span class="p">)},</span>
        <span class="s1">&#39;2dmeshR&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[0].profiles_2d[0].r&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;2dmeshZ&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time_slice[0].profiles_2d[0].z&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;core_profiles&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;ip&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;global_quantities.ip&#39;</span><span class="p">,</span>
               <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;current&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Ip&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">},</span>
        <span class="s1">&#39;vloop&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;global_quantities.v_loop&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;voltage&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Vloop&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;V&#39;</span><span class="p">},</span>

        <span class="s1">&#39;1dTe&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;profiles_1d[time].electrons.temperature&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;temperature&#39;</span><span class="p">,</span>  <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Te&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;eV&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dne&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;profiles_1d[time].electrons.density&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;density&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;ne&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m^-3&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dzeff&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;profiles_1d[time].zeff&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;charge&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;zeff&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dpsi&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;profiles_1d[time].grid.psi&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B flux&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;psi&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Wb&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1drhotn&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;profiles_1d[time].grid.rho_tor_norm&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;rhotn&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1drhopn&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;profiles_1d[time].grid.rho_pol_norm&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;rhopn&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dnW&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;profiles_1d[time].ion[identifier.label=W].density&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;density&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;nI&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m^-3&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;edge_profiles&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;core_sources&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dpsi&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;source[identifier.name=lineradiation]&#39;</span>
                          <span class="o">+</span> <span class="s1">&#39;.profiles_1d[time].grid.psi&#39;</span><span class="p">),</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B flux&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;psi&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Wb&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1drhotn&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;source[identifier.name=lineradiation]&#39;</span>
                            <span class="o">+</span> <span class="s1">&#39;.profiles_1d[time].grid.rho_tor_norm&#39;</span><span class="p">),</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;rhotn&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dbrem&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;source[identifier.name=bremsstrahlung]&#39;</span>
                           <span class="o">+</span> <span class="s1">&#39;.profiles_1d[time].electrons.energy&#39;</span><span class="p">),</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;vol.emis.&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;brem.&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W.m^-3&#39;</span><span class="p">},</span>
        <span class="s1">&#39;1dline&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;source[identifier.name=lineradiation]&#39;</span>
                           <span class="o">+</span> <span class="s1">&#39;.profiles_1d[time].electrons.energy&#39;</span><span class="p">),</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;vol. emis.&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W.m^-3&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;edge_sources&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;2dmeshNodes&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;grid_ggd[0].space[0].objects_per_dimension[0]&#39;</span>
                                <span class="o">+</span> <span class="s1">&#39;.object[].geometry&#39;</span><span class="p">),</span>
                        <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;mixed&#39;</span><span class="p">},</span>
        <span class="s1">&#39;2dmeshFaces&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;grid_ggd[0].space[0].objects_per_dimension[2]&#39;</span>
                                <span class="o">+</span> <span class="s1">&#39;.object[].nodes&#39;</span><span class="p">)},</span>
        <span class="s1">&#39;2dradiation&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;source[13].ggd[0].electrons.energy[0].values&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;vol. emis.&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;vol.emis.&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;tot. vol. emis.&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W.m^-3&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;lh_antennas&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;antenna[chan].power_launched.time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;power0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;antenna[0].power_launched.data&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;lh power&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
        <span class="s1">&#39;power1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;antenna[1].power_launched.data&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;lh power&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
        <span class="s1">&#39;power&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;antenna[chan].power_launched.data&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;lh power&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
        <span class="s1">&#39;R&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;antenna[chan].position.r.data&#39;</span><span class="p">,</span>
              <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;ic_antennas&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;antenna[chan].module[0].power_forward.time&#39;</span><span class="p">,</span>
              <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;power0mod_fwd&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;antenna[0].module[].power_forward.data&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;ic power&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">},</span>
        <span class="s1">&#39;power0mod_reflect&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;antenna[0].module[]&#39;</span>
                                      <span class="o">+</span> <span class="s1">&#39;.power_reflected.data&#39;</span><span class="p">),</span>
                              <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;ic power&#39;</span><span class="p">,</span>
                              <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">},</span>
        <span class="s1">&#39;power1mod_fwd&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;antenna[1].module[].power_forward.data&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;ic power&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">},</span>
        <span class="s1">&#39;power1mod_reflect&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;antenna[1].module[]&#39;</span>
                                      <span class="o">+</span> <span class="s1">&#39;.power_reflected.data&#39;</span><span class="p">),</span>
                              <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;ic power&#39;</span><span class="p">,</span>
                              <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">},</span>
        <span class="s1">&#39;power2mod_fwd&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;antenna[2].module[].power_forward.data&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;ic power&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">},</span>
        <span class="s1">&#39;power2mod_reflect&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;antenna[2].module[]&#39;</span>
                                      <span class="o">+</span> <span class="s1">&#39;.power_reflected.data&#39;</span><span class="p">),</span>
                              <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;ic power&#39;</span><span class="p">,</span>
                              <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;magnetics&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;ip&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;method[0].ip.data&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">},</span>
        <span class="s1">&#39;diamagflux&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;method[0].diamagnetic_flux.data&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Wb&#39;</span><span class="p">},</span>
        <span class="s1">&#39;bpol_B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;bpol_probe[chan].field.data&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Bpol&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;T&#39;</span><span class="p">},</span>
        <span class="s1">&#39;bpol_name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;bpol_probe[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;bpol_R&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;bpol_probe[chan].position.r&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;bpol_Z&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;bpol_probe[chan].position.z&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;bpol_angpol&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;bpol_probe[chan].poloidal_angle&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;angle&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;angle_pol&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;rad&#39;</span><span class="p">},</span>
        <span class="s1">&#39;bpol_angtor&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;bpol_probe[chan].toroidal_angle&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;angle&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;angle_tor&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;rad&#39;</span><span class="p">},</span>
        <span class="s1">&#39;floop_flux&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;flux_loop[chan].flux.data&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B flux&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;B flux&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Wb&#39;</span><span class="p">},</span>
        <span class="s1">&#39;floop_name&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;flux_loop[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;floop_R&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;flux_loop[chan].position.r&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;floop_Z&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;flux_loop[chan].position.z&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;barometry&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;gauge[chan].pressure.time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;gauge[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;gauge[chan].pressure.data&#39;</span><span class="p">,</span>
              <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;pressure&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Pa&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;calorimetry&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;group[chan].component[0].power.time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;group[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;power&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;group[chan].component[0].power.data&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;extracted power&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;neutron_diagnostic&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;flux_total&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;synthetic_signals.total_neutron_flux&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;particle flux&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;particle flux&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s^-1&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;ece&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
              <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;freq&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].frequency.data&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;freq&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;Hz&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Te&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].t_e.data&#39;</span><span class="p">,</span>
               <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Te&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;eV&#39;</span><span class="p">},</span>
        <span class="s1">&#39;R&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].position.r&#39;</span><span class="p">,</span>
              <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;rhotn&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].position.rho_tor_norm&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;rhotn&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;theta&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].position.theta&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;angle&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;theta&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;rad&#39;</span><span class="p">},</span>
        <span class="s1">&#39;tau1keV&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].optical_depth.data&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;optical_depth&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;tau&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
        <span class="s1">&#39;validity_timed&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].t_e.validity_timed&#39;</span><span class="p">},</span>
        <span class="s1">&#39;names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Te0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;t_e_central.data&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;temperature&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Te&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;eV&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;reflectometer_profile&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;ne&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].n_e.data&#39;</span><span class="p">,</span>
               <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;density&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;ne&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m^-3&#39;</span><span class="p">},</span>
        <span class="s1">&#39;R&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].position.r&#39;</span><span class="p">,</span>
              <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Z&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].position.z&#39;</span><span class="p">,</span>
              <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;phi&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].position.phi&#39;</span><span class="p">,</span>
                <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;angle&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;phi&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;rad&#39;</span><span class="p">},</span>
        <span class="s1">&#39;names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;mode&#39;</span><span class="p">},</span>
        <span class="s1">&#39;sweep&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;sweep_time&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;interferometer&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
              <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;ne_integ&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].n_e_line.data&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;ne_integ&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;ne_integ&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m^-2&#39;</span><span class="p">,</span> <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}},</span>

    <span class="s1">&#39;polarimeter&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
              <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;lamb&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].wavelength&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;wavelength&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;fangle&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].faraday_angle.data&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;angle&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;faraday angle&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;rad&#39;</span><span class="p">,</span> <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
        <span class="s1">&#39;names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].name&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;bolometer&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].power.time&#39;</span><span class="p">,</span>
              <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;power&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].power.data&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;power radiative&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
        <span class="s1">&#39;etendue&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].etendue&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;etendue&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;etendue&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m^2.sr&#39;</span><span class="p">},</span>
        <span class="s1">&#39;names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;tpower&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;prad&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;power_radiated_total&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;power radiative&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">},</span>
        <span class="s1">&#39;pradbulk&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;power_radiated_inside_lcfs&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;power radiative&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;soft_x_rays&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
              <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;power&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].power.data&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;power radiative&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">,</span> <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
        <span class="s1">&#39;brightness&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].brightness.data&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;brightness&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;brightness&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W.m^-2.sr^-1&#39;</span><span class="p">,</span> <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
        <span class="s1">&#39;names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;etendue&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].etendue&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;etendue&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;etendue&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m^2.sr&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;spectrometer_visible&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;channel[chan].grating_spectrometer&#39;</span>
                      <span class="o">+</span> <span class="s1">&#39;.radiance_spectral.time&#39;</span><span class="p">),</span>
              <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;spectra&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;channel[chan].grating_spectrometer&#39;</span>
                            <span class="o">+</span> <span class="s1">&#39;.radiance_spectral.data&#39;</span><span class="p">),</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;radiance_spectral&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;radiance_spectral&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;(photons).m^-2.s^-1.sr^-1.m^-1&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
        <span class="s1">&#39;names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;lamb&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].grating_spectrometer.wavelengths&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;wavelength&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;wavelength&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}},</span>

    <span class="s1">&#39;bremsstrahlung_visible&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
              <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;s&#39;</span><span class="p">},</span>
        <span class="s1">&#39;radiance&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].radiance_spectral.data&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;radiance_spectral&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;radiance_spectral&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;(photons).m^-2.s^-1.sr^-1.m^-1&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
        <span class="s1">&#39;names&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].name&#39;</span><span class="p">},</span>
        <span class="s1">&#39;lamb_up&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].filter.wavelength_upper&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
        <span class="s1">&#39;lamb_lo&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].filter.wavelength_lower&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}}</span>
    <span class="p">}</span>


<span class="c1"># ############################################################################</span>
<span class="c1">#</span>
<span class="c1">#           default data for each ids (not used yet)</span>
<span class="c1">#</span>
<span class="c1"># ############################################################################</span>


<span class="n">_didsdiag</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;lh_antennas&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">}},</span>
    <span class="s1">&#39;ic_antennas&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">}},</span>
    <span class="s1">&#39;magnetics&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                  <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;bpol_B&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">}},</span>
    <span class="s1">&#39;barometry&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                  <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">}},</span>
    <span class="s1">&#39;calorimetry&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">}},</span>
    <span class="s1">&#39;ece&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
            <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;X&#39;</span><span class="p">:</span> <span class="s1">&#39;rhotn_sign&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;Te&#39;</span><span class="p">},</span>
            <span class="s1">&#39;stack&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s1">&#39;neutron_diagnostic&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                           <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;flux_total&#39;</span><span class="p">}},</span>
    <span class="s1">&#39;reflectometer_profile&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                              <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                              <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;X&#39;</span><span class="p">:</span> <span class="s1">&#39;R&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;ne&#39;</span><span class="p">}},</span>
    <span class="s1">&#39;interferometer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="s1">&#39;CamLOS1D&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;ne_integ&#39;</span><span class="p">},</span>
                       <span class="s1">&#39;synth&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dsynth&#39;</span><span class="p">:</span> <span class="p">{</span>
                           <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;core_profiles.1dne&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;ref1d&#39;</span><span class="p">:</span> <span class="s1">&#39;core_profiles.1drhotn&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;ref2d&#39;</span><span class="p">:</span> <span class="s1">&#39;equilibrium.2drhotn&#39;</span><span class="p">},</span>
                               <span class="s1">&#39;dsig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;core_profiles&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">],</span>
                                        <span class="s1">&#39;equilibrium&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]},</span>
                               <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
                       <span class="s1">&#39;stack&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s1">&#39;polarimeter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="s1">&#39;CamLOS1D&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;fangle&#39;</span><span class="p">},</span>
                    <span class="s1">&#39;synth&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dsynth&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;fargs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;core_profiles.1dne&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;equilibrium.2dBR&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;equilibrium.2dBT&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;equilibrium.2dBZ&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;core_profiles.1drhotn&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;equilibrium.2drhotn&#39;</span><span class="p">]},</span>
                              <span class="s1">&#39;dsig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;core_profiles&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">],</span>
                                       <span class="s1">&#39;equilibrium&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]},</span>
                              <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
                    <span class="s1">&#39;stack&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s1">&#39;bolometer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="s1">&#39;CamLOS1D&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">},</span>
                  <span class="s1">&#39;synth&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dsynth&#39;</span><span class="p">:</span> <span class="p">{</span>
                      <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;core_sources.1dprad&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;ref1d&#39;</span><span class="p">:</span> <span class="s1">&#39;core_sources.1drhotn&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;ref2d&#39;</span><span class="p">:</span> <span class="s1">&#39;equilibrium.2drhotn&#39;</span><span class="p">},</span>
                            <span class="s1">&#39;dsig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;core_sources&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">],</span>
                                     <span class="s1">&#39;equilibrium&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]},</span>
                            <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
                  <span class="s1">&#39;stack&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s1">&#39;soft_x_rays&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="s1">&#39;CamLOS1D&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
                            <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;power&#39;</span><span class="p">},</span>
                    <span class="s1">&#39;stack&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="s1">&#39;spectrometer_visible&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1DSpectral&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="s1">&#39;CamLOS1D&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;spectra&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
                                     <span class="s1">&#39;lamb&#39;</span><span class="p">:</span> <span class="s1">&#39;lamb&#39;</span><span class="p">}},</span>
    <span class="s1">&#39;bremsstrahlung_visible&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;datacls&#39;</span><span class="p">:</span> <span class="s1">&#39;DataCam1D&#39;</span><span class="p">,</span>
        <span class="s1">&#39;geomcls&#39;</span><span class="p">:</span> <span class="s1">&#39;CamLOS1D&#39;</span><span class="p">,</span>
        <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
                <span class="s1">&#39;data&#39;</span><span class="p">:</span> <span class="s1">&#39;radiance&#39;</span><span class="p">},</span>
        <span class="s1">&#39;synth&#39;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">&#39;dsynth&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;core_profiles.1dTe&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;core_profiles.1dne&#39;</span><span class="p">,</span>
                          <span class="s1">&#39;core_profiles.1dzeff&#39;</span><span class="p">],</span>
                <span class="s1">&#39;ref1d&#39;</span><span class="p">:</span> <span class="s1">&#39;core_profiles.1drhotn&#39;</span><span class="p">,</span>
                <span class="s1">&#39;ref2d&#39;</span><span class="p">:</span> <span class="s1">&#39;equilibrium.2drhotn&#39;</span><span class="p">},</span>
            <span class="s1">&#39;dsig&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;core_profiles&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">],</span>
                     <span class="s1">&#39;equilibrium&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]},</span>
            <span class="s1">&#39;Brightness&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
        <span class="s1">&#39;stack&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
    <span class="p">}</span>


<span class="c1"># ############################################################################</span>
<span class="c1">#</span>
<span class="c1">#           Complete dshort and didsdiag</span>
<span class="c1">#</span>
<span class="c1"># ############################################################################</span>

<span class="n">_lidsconfig</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;wall&#39;</span><span class="p">]</span>
<span class="n">_lidsdiag</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">kk</span> <span class="k">for</span> <span class="n">kk</span><span class="p">,</span> <span class="n">vv</span> <span class="ow">in</span> <span class="n">_didsdiag</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="s1">&#39;sig&#39;</span> <span class="ow">in</span> <span class="n">vv</span><span class="o">.</span><span class="n">keys</span><span class="p">()])</span>
<span class="n">_lidslos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">_lidsdiag</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ids_</span> <span class="ow">in</span> <span class="n">_lidsdiag</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">_didsdiag</span><span class="p">[</span><span class="n">ids_</span><span class="p">][</span><span class="s1">&#39;geomcls&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;CamLOS1D&#39;</span><span class="p">]:</span>
        <span class="n">_lidslos</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">ids_</span><span class="p">)</span>

<span class="k">for</span> <span class="n">ids</span> <span class="ow">in</span> <span class="n">_lidslos</span><span class="p">:</span>
    <span class="n">dlos</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">strlos</span> <span class="o">=</span> <span class="s1">&#39;line_of_sight&#39;</span>
    <span class="k">if</span> <span class="n">ids</span> <span class="o">==</span> <span class="s1">&#39;reflectometer_profile&#39;</span><span class="p">:</span>
        <span class="n">strlos</span> <span class="o">+=</span> <span class="s1">&#39;_detection&#39;</span>
    <span class="n">dlos</span><span class="p">[</span><span class="s1">&#39;los_pt1R&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].</span><span class="si">{}</span><span class="s1">.first_point.r&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">strlos</span><span class="p">),</span>
        <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}</span>
    <span class="n">dlos</span><span class="p">[</span><span class="s1">&#39;los_pt1Z&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].</span><span class="si">{}</span><span class="s1">.first_point.z&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">strlos</span><span class="p">),</span>
        <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}</span>
    <span class="n">dlos</span><span class="p">[</span><span class="s1">&#39;los_pt1Phi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].</span><span class="si">{}</span><span class="s1">.first_point.phi&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">strlos</span><span class="p">),</span>
        <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;rad&#39;</span><span class="p">}</span>
    <span class="n">dlos</span><span class="p">[</span><span class="s1">&#39;los_pt2R&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].</span><span class="si">{}</span><span class="s1">.second_point.r&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">strlos</span><span class="p">),</span>
        <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}</span>
    <span class="n">dlos</span><span class="p">[</span><span class="s1">&#39;los_pt2Z&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].</span><span class="si">{}</span><span class="s1">.second_point.z&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">strlos</span><span class="p">),</span>
        <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}</span>
    <span class="n">dlos</span><span class="p">[</span><span class="s1">&#39;los_pt2Phi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;str&#39;</span><span class="p">:</span> <span class="s1">&#39;channel[chan].</span><span class="si">{}</span><span class="s1">.second_point.phi&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">strlos</span><span class="p">),</span>
        <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;rad&#39;</span><span class="p">}</span>
    <span class="n">_dshort</span><span class="p">[</span><span class="n">ids</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">dlos</span><span class="p">)</span>


<span class="n">_lidssynth</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">kk</span> <span class="k">for</span> <span class="n">kk</span><span class="p">,</span> <span class="n">vv</span> <span class="ow">in</span> <span class="n">_didsdiag</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                     <span class="k">if</span> <span class="s1">&#39;synth&#39;</span> <span class="ow">in</span> <span class="n">vv</span><span class="o">.</span><span class="n">keys</span><span class="p">()])</span>
<span class="k">for</span> <span class="n">ids_</span> <span class="ow">in</span> <span class="n">_lidssynth</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">kk</span><span class="p">,</span> <span class="n">vv</span> <span class="ow">in</span> <span class="n">_didsdiag</span><span class="p">[</span><span class="n">ids_</span><span class="p">][</span><span class="s1">&#39;synth&#39;</span><span class="p">][</span><span class="s1">&#39;dsynth&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">vv</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span><span class="p">:</span>
            <span class="n">vv</span> <span class="o">=</span> <span class="p">[</span><span class="n">vv</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">vv</span><span class="p">)):</span>
            <span class="n">v0</span><span class="p">,</span> <span class="n">v1</span> <span class="o">=</span> <span class="n">vv</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">v0</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_didsdiag</span><span class="p">[</span><span class="n">ids_</span><span class="p">][</span><span class="s1">&#39;synth&#39;</span><span class="p">][</span><span class="s1">&#39;dsig&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                <span class="n">_didsdiag</span><span class="p">[</span><span class="n">ids_</span><span class="p">][</span><span class="s1">&#39;synth&#39;</span><span class="p">][</span><span class="s1">&#39;dsig&#39;</span><span class="p">][</span><span class="n">v0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">v1</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">v1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_didsdiag</span><span class="p">[</span><span class="n">ids_</span><span class="p">][</span><span class="s1">&#39;synth&#39;</span><span class="p">][</span><span class="s1">&#39;dsig&#39;</span><span class="p">][</span><span class="n">v0</span><span class="p">]:</span>
                <span class="n">_didsdiag</span><span class="p">[</span><span class="n">ids_</span><span class="p">][</span><span class="s1">&#39;synth&#39;</span><span class="p">][</span><span class="s1">&#39;dsig&#39;</span><span class="p">][</span><span class="n">v0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v1</span><span class="p">)</span>
        <span class="n">_didsdiag</span><span class="p">[</span><span class="n">ids_</span><span class="p">][</span><span class="s1">&#39;synth&#39;</span><span class="p">][</span><span class="s1">&#39;dsynth&#39;</span><span class="p">][</span><span class="n">kk</span><span class="p">]</span> <span class="o">=</span> <span class="n">vv</span>


<span class="c1"># ############################################################################</span>
<span class="c1">#</span>
<span class="c1">#           Dict for computing signals from loaded signals</span>
<span class="c1">#</span>
<span class="c1"># ############################################################################</span>


<span class="c1"># -------------</span>
<span class="c1"># Functions</span>

<div class="viewcode-block" id="_events"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._events">[docs]</a><span class="k">def</span> <span class="nf">_events</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
    <span class="n">ustr</span> <span class="o">=</span> <span class="s1">&#39;U</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">char</span><span class="o">.</span><span class="n">str_len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">char</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">names</span><span class="p">))))</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="n">nn</span><span class="p">,</span> <span class="n">tt</span><span class="p">)</span>
                     <span class="k">for</span> <span class="n">nn</span><span class="p">,</span> <span class="n">tt</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">char</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="n">names</span><span class="p">),</span> <span class="n">t</span><span class="p">])],</span>
                    <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">ustr</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)])</span></div>


<div class="viewcode-block" id="_RZ2array"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._RZ2array">[docs]</a><span class="k">def</span> <span class="nf">_RZ2array</span><span class="p">(</span><span class="n">ptsR</span><span class="p">,</span> <span class="n">ptsZ</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">ptsR</span><span class="p">,</span> <span class="n">ptsZ</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>
    <span class="k">if</span> <span class="n">out</span><span class="o">.</span><span class="n">ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:]</span>
    <span class="k">return</span> <span class="n">out</span></div>


<div class="viewcode-block" id="_losptsRZP"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._losptsRZP">[docs]</a><span class="k">def</span> <span class="nf">_losptsRZP</span><span class="p">(</span><span class="o">*</span><span class="n">pt12RZP</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">swapaxes</span><span class="p">([</span><span class="n">pt12RZP</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span> <span class="n">pt12RZP</span><span class="p">[</span><span class="mi">3</span><span class="p">:]],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">T</span></div>


<div class="viewcode-block" id="_add"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._add">[docs]</a><span class="k">def</span> <span class="nf">_add</span><span class="p">(</span><span class="n">a0</span><span class="p">,</span> <span class="n">a1</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">a0</span> <span class="o">+</span> <span class="n">a1</span><span class="p">)</span></div>


<div class="viewcode-block" id="_eqB"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._eqB">[docs]</a><span class="k">def</span> <span class="nf">_eqB</span><span class="p">(</span><span class="n">BT</span><span class="p">,</span> <span class="n">BR</span><span class="p">,</span> <span class="n">BZ</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">BT</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">BR</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">BZ</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span></div>


<div class="viewcode-block" id="_icmod"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._icmod">[docs]</a><span class="k">def</span> <span class="nf">_icmod</span><span class="p">(</span><span class="n">al</span><span class="p">,</span> <span class="n">ar</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">al</span> <span class="o">-</span> <span class="n">ar</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span></div>


<div class="viewcode-block" id="_icmodadd"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._icmodadd">[docs]</a><span class="k">def</span> <span class="nf">_icmodadd</span><span class="p">(</span><span class="n">al0</span><span class="p">,</span> <span class="n">ar0</span><span class="p">,</span> <span class="n">al1</span><span class="p">,</span> <span class="n">ar1</span><span class="p">,</span> <span class="n">al2</span><span class="p">,</span> <span class="n">ar2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">al0</span> <span class="o">-</span> <span class="n">ar0</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
            <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">al1</span> <span class="o">-</span> <span class="n">ar1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
            <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">al2</span> <span class="o">-</span> <span class="n">ar2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">))</span></div>


<div class="viewcode-block" id="_rhopn1d"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._rhopn1d">[docs]</a><span class="k">def</span> <span class="nf">_rhopn1d</span><span class="p">(</span><span class="n">psi</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">psi</span> <span class="o">-</span> <span class="n">psi</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">psi</span><span class="p">[:,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">psi</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])[:,</span> <span class="kc">None</span><span class="p">])</span></div>


<div class="viewcode-block" id="_rhopn2d"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._rhopn2d">[docs]</a><span class="k">def</span> <span class="nf">_rhopn2d</span><span class="p">(</span><span class="n">psi</span><span class="p">,</span> <span class="n">psi0</span><span class="p">,</span> <span class="n">psisep</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span>
        <span class="p">(</span><span class="n">psi</span> <span class="o">-</span> <span class="n">psi0</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">psisep</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">-</span> <span class="n">psi0</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">]))</span></div>


<div class="viewcode-block" id="_rhotn2d"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._rhotn2d">[docs]</a><span class="k">def</span> <span class="nf">_rhotn2d</span><span class="p">(</span><span class="n">phi</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">phi</span><span class="p">)</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">phi</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)[:,</span> <span class="kc">None</span><span class="p">])</span></div>


<div class="viewcode-block" id="_eqSep"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._eqSep">[docs]</a><span class="k">def</span> <span class="nf">_eqSep</span><span class="p">(</span><span class="n">sepR</span><span class="p">,</span> <span class="n">sepZ</span><span class="p">,</span> <span class="n">npts</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">nt</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sepR</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">sepZ</span><span class="p">)</span> <span class="o">==</span> <span class="n">nt</span>
    <span class="n">sep</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="n">nt</span><span class="p">,</span> <span class="n">npts</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
    <span class="n">pts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">npts</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">nt</span><span class="p">):</span>
        <span class="n">ptsii</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">sepR</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
        <span class="n">sep</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="n">ptsii</span><span class="p">,</span> <span class="n">sepR</span><span class="p">[</span><span class="n">ii</span><span class="p">])</span>
        <span class="n">sep</span><span class="p">[</span><span class="n">ii</span><span class="p">,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">interp</span><span class="p">(</span><span class="n">pts</span><span class="p">,</span> <span class="n">ptsii</span><span class="p">,</span> <span class="n">sepZ</span><span class="p">[</span><span class="n">ii</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">sep</span></div>


<div class="viewcode-block" id="_eqtheta"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._eqtheta">[docs]</a><span class="k">def</span> <span class="nf">_eqtheta</span><span class="p">(</span><span class="n">axR</span><span class="p">,</span> <span class="n">axZ</span><span class="p">,</span> <span class="n">nodes</span><span class="p">,</span> <span class="n">cocos</span><span class="o">=</span><span class="mi">11</span><span class="p">):</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">nodes</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">][</span><span class="kc">None</span><span class="p">,</span> <span class="p">:]</span> <span class="o">-</span> <span class="n">axZ</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">],</span>
                       <span class="n">nodes</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">][</span><span class="kc">None</span><span class="p">,</span> <span class="p">:]</span> <span class="o">-</span> <span class="n">axR</span><span class="p">[:,</span> <span class="kc">None</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">cocos</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">theta</span> <span class="o">=</span> <span class="o">-</span><span class="n">theta</span>
    <span class="k">return</span> <span class="n">theta</span></div>


<div class="viewcode-block" id="_rhosign"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._rhosign">[docs]</a><span class="k">def</span> <span class="nf">_rhosign</span><span class="p">(</span><span class="n">rho</span><span class="p">,</span> <span class="n">theta</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="n">rhotns</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">rho</span><span class="p">)</span>
        <span class="n">ind</span> <span class="o">=</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
        <span class="n">ind</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">&amp;=</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">[</span><span class="n">ind</span><span class="p">])</span> <span class="o">&lt;</span> <span class="mf">0.</span>
        <span class="n">rhotns</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="n">rho</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">rhotns</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span> <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">theta</span><span class="p">))]</span>
        <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">theta</span><span class="p">)):</span>
            <span class="n">rhotns</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span> <span class="o">=</span> <span class="n">_rhosign</span><span class="p">(</span><span class="n">rho</span><span class="p">[</span><span class="n">ii</span><span class="p">],</span> <span class="n">theta</span><span class="p">[</span><span class="n">ii</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">rhotns</span></div>


<div class="viewcode-block" id="_lamb"><a class="viewcode-back" href="../../../tofu.imas2tofu.html#tofu.imas2tofu._def._lamb">[docs]</a><span class="k">def</span> <span class="nf">_lamb</span><span class="p">(</span><span class="n">lamb_up</span><span class="p">,</span> <span class="n">lamb_lo</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">lamb_up</span> <span class="o">+</span> <span class="n">lamb_lo</span><span class="p">)</span></div>


<span class="c1"># ----------</span>
<span class="c1"># dict</span>


<span class="n">_dcomp</span> <span class="o">=</span> <span class="p">{</span>
          <span class="s1">&#39;pulse_schedule&#39;</span><span class="p">:</span>
          <span class="p">{</span><span class="s1">&#39;events&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;events_names&#39;</span><span class="p">,</span> <span class="s1">&#39;events_times&#39;</span><span class="p">],</span>
                      <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_events</span><span class="p">}},</span>

          <span class="s1">&#39;wall&#39;</span><span class="p">:</span>
          <span class="p">{</span><span class="s1">&#39;wall&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;wallR&#39;</span><span class="p">,</span> <span class="s1">&#39;wallZ&#39;</span><span class="p">],</span>
                    <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_RZ2array</span><span class="p">}},</span>

          <span class="s1">&#39;equilibrium&#39;</span><span class="p">:</span>
          <span class="p">{</span><span class="s1">&#39;ax&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;axR&#39;</span><span class="p">,</span> <span class="s1">&#39;axZ&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_RZ2array</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
           <span class="s1">&#39;sep&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;sepR&#39;</span><span class="p">,</span> <span class="s1">&#39;sepZ&#39;</span><span class="p">],</span>
                   <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_eqSep</span><span class="p">,</span> <span class="s1">&#39;kargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;npts&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
           <span class="s1">&#39;2dB&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;2dBT&#39;</span><span class="p">,</span> <span class="s1">&#39;2dBR&#39;</span><span class="p">,</span> <span class="s1">&#39;2dBZ&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_eqB</span><span class="p">,</span>
                   <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;T&#39;</span><span class="p">},</span>
           <span class="s1">&#39;1drhopn&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;1dpsi&#39;</span><span class="p">,</span> <span class="s1">&#39;psiaxis&#39;</span><span class="p">,</span> <span class="s1">&#39;psisep&#39;</span><span class="p">],</span>
                       <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_rhopn2d</span><span class="p">,</span>
                       <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;rhopn&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
           <span class="s1">&#39;2drhopn&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;2dpsi&#39;</span><span class="p">,</span> <span class="s1">&#39;psiaxis&#39;</span><span class="p">,</span> <span class="s1">&#39;psisep&#39;</span><span class="p">],</span>
                       <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_rhopn2d</span><span class="p">,</span>
                       <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;rhopn&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
           <span class="s1">&#39;2drhotn&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;2dphi&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_rhotn2d</span><span class="p">,</span>
                       <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;rhotn&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
           <span class="s1">&#39;x0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;x0R&#39;</span><span class="p">,</span> <span class="s1">&#39;x0Z&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_RZ2array</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
           <span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;x1R&#39;</span><span class="p">,</span> <span class="s1">&#39;x1Z&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_RZ2array</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
           <span class="s1">&#39;strike0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;strike0R&#39;</span><span class="p">,</span> <span class="s1">&#39;strike0Z&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_RZ2array</span><span class="p">,</span>
                       <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
           <span class="s1">&#39;strike1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;strike1R&#39;</span><span class="p">,</span> <span class="s1">&#39;strike1Z&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_RZ2array</span><span class="p">,</span>
                       <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">},</span>
           <span class="s1">&#39;2dtheta&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;axR&#39;</span><span class="p">,</span> <span class="s1">&#39;axZ&#39;</span><span class="p">,</span> <span class="s1">&#39;2dmeshNodes&#39;</span><span class="p">],</span>
                       <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_eqtheta</span><span class="p">,</span> <span class="s1">&#39;kargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;cocos&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">},</span>
                       <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;rad&#39;</span><span class="p">}},</span>

          <span class="s1">&#39;core_profiles&#39;</span><span class="p">:</span>
          <span class="p">{</span><span class="s1">&#39;1drhopn&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;1dpsi&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_rhopn1d</span><span class="p">,</span>
                       <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;rhopn&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">}},</span>

          <span class="s1">&#39;core_sources&#39;</span><span class="p">:</span>
          <span class="p">{</span><span class="s1">&#39;1drhopn&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;1dpsi&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_rhopn1d</span><span class="p">,</span>
                       <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;rho&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;rhopn&#39;</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">},</span>
           <span class="s1">&#39;1dprad&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;1dbrem&#39;</span><span class="p">,</span> <span class="s1">&#39;1dline&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_add</span><span class="p">,</span>
                      <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;vol. emis.&#39;</span><span class="p">,</span> <span class="s1">&#39;quant&#39;</span><span class="p">:</span> <span class="s1">&#39;prad&#39;</span><span class="p">,</span>
                      <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W.m^-3&#39;</span><span class="p">}},</span>

          <span class="s1">&#39;magnetics&#39;</span><span class="p">:</span>
          <span class="p">{</span><span class="s1">&#39;bpol_pos&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;bpol_R&#39;</span><span class="p">,</span> <span class="s1">&#39;bpol_Z&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_RZ2array</span><span class="p">},</span>
           <span class="s1">&#39;floop_pos&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;floop_R&#39;</span><span class="p">,</span> <span class="s1">&#39;floop_Z&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_RZ2array</span><span class="p">}},</span>

          <span class="s1">&#39;ic_antennas&#39;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s1">&#39;power0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;power0mod_fwd&#39;</span><span class="p">,</span> <span class="s1">&#39;power0mod_reflect&#39;</span><span class="p">],</span>
                         <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_icmod</span><span class="p">,</span> <span class="s1">&#39;kargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;axis&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
                         <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">},</span>
              <span class="s1">&#39;power1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;power1mod_fwd&#39;</span><span class="p">,</span> <span class="s1">&#39;power1mod_reflect&#39;</span><span class="p">],</span>
                         <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_icmod</span><span class="p">,</span> <span class="s1">&#39;kargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;axis&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
                         <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">},</span>
              <span class="s1">&#39;power2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;power2mod_fwd&#39;</span><span class="p">,</span> <span class="s1">&#39;power2mod_reflect&#39;</span><span class="p">],</span>
                         <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_icmod</span><span class="p">,</span> <span class="s1">&#39;kargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;axis&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
                         <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">},</span>
              <span class="s1">&#39;power&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;power0mod_fwd&#39;</span><span class="p">,</span> <span class="s1">&#39;power0mod_reflect&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;power1mod_fwd&#39;</span><span class="p">,</span> <span class="s1">&#39;power1mod_reflect&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;power2mod_fwd&#39;</span><span class="p">,</span> <span class="s1">&#39;power2mod_reflect&#39;</span><span class="p">],</span>
                        <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_icmodadd</span><span class="p">,</span> <span class="s1">&#39;kargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;axis&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
                        <span class="s1">&#39;pos&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;W&#39;</span><span class="p">}},</span>

          <span class="s1">&#39;ece&#39;</span><span class="p">:</span>
          <span class="p">{</span><span class="s1">&#39;rhotn_sign&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;rhotn&#39;</span><span class="p">,</span> <span class="s1">&#39;theta&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_rhosign</span><span class="p">,</span>
                          <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">}},</span>

          <span class="s1">&#39;bremsstrahlung_visible&#39;</span><span class="p">:</span>
          <span class="p">{</span><span class="s1">&#39;lamb&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;lamb_up&#39;</span><span class="p">,</span> <span class="s1">&#39;lamb_lo&#39;</span><span class="p">],</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_lamb</span><span class="p">,</span>
                    <span class="s1">&#39;dim&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="s1">&#39;wavelength&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;units&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">}}</span>
          <span class="p">}</span>

<span class="c1"># Complete los</span>
<span class="n">_lstr</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;los_pt1R&#39;</span><span class="p">,</span> <span class="s1">&#39;los_pt1Z&#39;</span><span class="p">,</span> <span class="s1">&#39;los_pt1Phi&#39;</span><span class="p">,</span>
         <span class="s1">&#39;los_pt2R&#39;</span><span class="p">,</span> <span class="s1">&#39;los_pt2Z&#39;</span><span class="p">,</span> <span class="s1">&#39;los_pt2Phi&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">ids</span> <span class="ow">in</span> <span class="n">_lidslos</span><span class="p">:</span>
    <span class="n">_dcomp</span><span class="p">[</span><span class="n">ids</span><span class="p">]</span> <span class="o">=</span> <span class="n">_dcomp</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="p">{})</span>
    <span class="n">_dcomp</span><span class="p">[</span><span class="n">ids</span><span class="p">][</span><span class="s1">&#39;los_ptsRZPhi&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;lstr&#39;</span><span class="p">:</span> <span class="n">_lstr</span><span class="p">,</span> <span class="s1">&#39;func&#39;</span><span class="p">:</span> <span class="n">_losptsRZP</span><span class="p">}</span>


<span class="c1"># Uniformize</span>
<span class="n">_lids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">_dshort</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">_dcomp</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="k">for</span> <span class="n">ids</span> <span class="ow">in</span> <span class="n">_lids</span><span class="p">:</span>
    <span class="n">_dshort</span><span class="p">[</span><span class="n">ids</span><span class="p">]</span> <span class="o">=</span> <span class="n">_dshort</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="p">{})</span>
    <span class="n">_dcomp</span><span class="p">[</span><span class="n">ids</span><span class="p">]</span> <span class="o">=</span> <span class="n">_dcomp</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="p">{})</span>


<span class="c1"># ############################################################################</span>
<span class="c1">#</span>
<span class="c1">#           Dict of signals that, by default are not loaded</span>
<span class="c1">#         (because replaced by more complete computed signals)</span>
<span class="c1">#                         (avoids redundancy)</span>
<span class="c1">#</span>
<span class="c1"># ############################################################################</span>


<span class="c1"># All except (for when sig not specified in get_data())</span>
<span class="n">_dall_except</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">ids</span> <span class="ow">in</span> <span class="n">_lidslos</span><span class="p">:</span>
    <span class="n">_dall_except</span><span class="p">[</span><span class="n">ids</span><span class="p">]</span> <span class="o">=</span> <span class="n">_lstr</span>
<span class="n">_dall_except</span><span class="p">[</span><span class="s1">&#39;equilibrium&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;axR&#39;</span><span class="p">,</span> <span class="s1">&#39;axZ&#39;</span><span class="p">,</span> <span class="s1">&#39;sepR&#39;</span><span class="p">,</span> <span class="s1">&#39;sepZ&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;2dBT&#39;</span><span class="p">,</span> <span class="s1">&#39;2dBR&#39;</span><span class="p">,</span> <span class="s1">&#39;2dBZ&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;x0R&#39;</span><span class="p">,</span> <span class="s1">&#39;x0Z&#39;</span><span class="p">,</span> <span class="s1">&#39;x1R&#39;</span><span class="p">,</span> <span class="s1">&#39;x1Z&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;strike0R&#39;</span><span class="p">,</span> <span class="s1">&#39;strike0Z&#39;</span><span class="p">,</span> <span class="s1">&#39;strike1R&#39;</span><span class="p">,</span> <span class="s1">&#39;strike1Z&#39;</span><span class="p">]</span>
<span class="n">_dall_except</span><span class="p">[</span><span class="s1">&#39;magnetics&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bpol_R&#39;</span><span class="p">,</span> <span class="s1">&#39;bpol_Z&#39;</span><span class="p">,</span> <span class="s1">&#39;floop_R&#39;</span><span class="p">,</span> <span class="s1">&#39;floop_Z&#39;</span><span class="p">]</span>
<span class="n">_dall_except</span><span class="p">[</span><span class="s1">&#39;ic_antennas&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;power0mod_launched&#39;</span><span class="p">,</span> <span class="s1">&#39;power0mod_reflected&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;power1mod_launched&#39;</span><span class="p">,</span> <span class="s1">&#39;power1mod_reflected&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;power2mod_launched&#39;</span><span class="p">,</span> <span class="s1">&#39;power2mod_reflected&#39;</span><span class="p">]</span>


<span class="c1"># ############################################################################</span>
<span class="c1">#</span>
<span class="c1">#           Dict of default pre-defined sets of signals</span>
<span class="c1">#</span>
<span class="c1"># ############################################################################</span>


<span class="n">_dpreset</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;overview&#39;</span><span class="p">:</span>
            <span class="p">{</span><span class="s1">&#39;wall&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
             <span class="s1">&#39;pulse_schedule&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
             <span class="s1">&#39;equilibrium&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span>

            <span class="s1">&#39;plasma2d&#39;</span><span class="p">:</span>
            <span class="p">{</span><span class="s1">&#39;wall&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;domainR&#39;</span><span class="p">,</span> <span class="s1">&#39;domainZ&#39;</span><span class="p">],</span>
             <span class="s1">&#39;equilibrium&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;ax&#39;</span><span class="p">,</span> <span class="s1">&#39;sep&#39;</span><span class="p">],</span>
             <span class="s1">&#39;core_profiles&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;1dTe&#39;</span><span class="p">,</span> <span class="s1">&#39;1dne&#39;</span><span class="p">,</span> <span class="s1">&#39;1dzeff&#39;</span><span class="p">,</span>
                               <span class="s1">&#39;1drhotn&#39;</span><span class="p">,</span> <span class="s1">&#39;1dphi&#39;</span><span class="p">],</span>
             <span class="s1">&#39;core_sources&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;1dprad&#39;</span><span class="p">],</span>
             <span class="s1">&#39;edge_profiles&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">],</span>
             <span class="s1">&#39;edge_sources&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">]},</span>

            <span class="s1">&#39;ece&#39;</span><span class="p">:</span>
            <span class="p">{</span><span class="s1">&#39;wall&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;domainR&#39;</span><span class="p">,</span> <span class="s1">&#39;domainZ&#39;</span><span class="p">],</span>
             <span class="s1">&#39;ece&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
             <span class="s1">&#39;core_profiles&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;Te&#39;</span><span class="p">,</span> <span class="s1">&#39;ne&#39;</span><span class="p">]}</span>
           <span class="p">}</span>


<span class="c1"># ############################################################################</span>
<span class="c1">#</span>
<span class="c1">#       List of ids considered as basis and automatically loaded by default</span>
<span class="c1">#</span>
<span class="c1"># ############################################################################</span>


<span class="n">_IDS_BASE</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;wall&#39;</span><span class="p">,</span> <span class="s1">&#39;pulse_schedule&#39;</span><span class="p">]</span>


<span class="c1"># ############################################################################</span>
<span class="c1">#</span>
<span class="c1">#       Default parameters for exporting to tofu objects (_comp_toobjects.py)</span>
<span class="c1">#</span>
<span class="c1"># ############################################################################</span>

<span class="n">_INDEVENT</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">_DTLIM</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;west&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;IGNITRON&#39;</span><span class="p">,</span> <span class="s1">&#39;PLUSDIP&#39;</span><span class="p">]}</span>
</pre></div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2016-2021, Tofu contributors.<br/>
      Last updated on Oct 06, 2021.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>